## 추상화
- 추상화에서 추상이란 여러 가지 사물이나 개념에서 공통되는 특성이나 속성 따위를 추출하여 파악하는 작용이라고 사전에서 정의하고 있다. 
- 프로그래밍에서는 핵심적이거나 공통되는 속성 및 기능을 간추리는 것을 의미한다. 상속이 자식 클래스를 만드는데 부모 클래스를 사용하는 것이라면, 추상화는 이와 반대로 기존 클래스의 공통 부분을 뽑아내 부모 클래스를 만드는 것이라고 볼 수 있다. 
- 추상화의 반대되는 개념을 구체화라고 하며 상속 계층도의 위로 올라갈 수록 공통 요소만 남고 밑으로 갈수록 세분화된다.
- 자바에서 추상화를 표현하기 위한 방법으로 **추상클래스(abstract)** 와 **인터페이스(interface)** 가 있다.

## 추상클래스 
- 추상 클래스는 공통의 기능과 상속을 모아 추출한다. 인터페이스는 기능을 강제로 구현해야하는 것. **추상화는 주로 클래스를 범주화하거나 논리적인 개념으로 묶을때 사용** 해야하고 **인터페이스는 기능을 강제로 구현하게 하고 이를 여러 클래스에서 다양하게 구현**할 수 있도록 할때 사용.

- 추상 클래스는 미완성 메서드(추상 메서드)를 가지고 있는 미완성 설계도라고 할 수 있다. 미완성 설계도로 완성된 제품을 만들 수 없듯이 추상 클래스로 인스턴스는 생성할 수 없으며 상속을 통해 자식 클래스에 의해서만 완성될 수 있다. 추상 클래스 자체로는 클래스의 역할을 다 못하지만 새로운 클래스를 작성하는데 있어 바탕이 되는 부모 클래스로서 중요한 의미를 갖는다. 필요한 공통 부분만을 그린 미완성 설계도를 만들어 놓고 이를 이용해서 각각의 설계도를 효율적으로 완성하는 것이다. 추상 클래스는 선언부에 키워드 abstract을 붙여 이 클래스에 추상 메서드가 있으니 상속을 통해서 구현해주어야 한다는 것을 알려준다.
- 추상클래스는 속성과 구현된 메서드를 가질 수 있지만 인터페이스는 상수외에 필드를 가질 수 없다. 인터페이스는 다중구현이 가능하고 추상 클래스는 단일 상속만 가능. 이 차이로 인해 인터페이스가 더 유연하게 여러 기능을 조합할 수 있도록 한다는 점에서 큰 장점을 가지고 있다. 자바 8부터는 디폴트 메서드를 통해 기본 구현도 제공할 수 있지만, 필드를 가질 수는 없다. 
 
- 모든 동물의 클래스가 이름과 나이를 가지면서도 각각 소리를 다르게 내야한다면 추상 클래스를 사용. 여러 결제 방식을 처리하는 로직처럼 동적으로 다양한 결제 방식이 사용되는 경우 인터페이스를 사용하는 것이 좋다. 

## 추상클래스 장점
- 대규모 프로젝트 개발 시 일관되고 정형화된 개발을 위한 표준화가능
- 다형성 및 추상화 구현
- 객체간 의존성을 줄일 수 있음.

## 추상 클래스 단점
- 인터페이스에 정의된 메소드를 모두 구현해야함.
- 변경이 어려움 

## 추상 메서드(abstract method)
- 메서드의 선언부만 작성하고 구현부는 작성하지 않은 채로 남겨 둔 것이 추상 메서드이며 설계만 해 놓고 실제 수행될 내용은 작성하지 않았기 때문에 미완성 상태이다. 메서드를 미완성으로 남겨 둔 이유는 메서드의 내용이 상속 받는 클래스에 따라 달라질 수 있기 때문에 부모 클래스에는 선언부만 작성하고 주석을 덧붙여 어떤 기능을 수행할 목적으로 작성되었는지 알려준 뒤 실제 내용은 상속 받는 클래스에서 구현하도록 하기 위함이다. 추상 메서드 역시 키워드 abstract을 붙여 주고 구현부가 없으므로 중괄호 대신 문장의 끝을 알리는 ‘;’을 적어준다.
- 추상 클래스로부터 상속 받는 자식 클래스는 오버라이딩을 통해 부모인 추상 클래스의 추상 메서드를 모두 구현해야 한다. 만일 부모로부터 상속 받은 추상 메서드 중 하나라도 구현하지 않는다면 자식 클래스 역시 추상 클래스로 지정해 주어야 한다.

- 작은 카페가 있고 카페에는 음료를 만드는 바리스타와 그 외 업무를 담당하는 스태프가 직원으로 일하고 있다. 바리스타와 스태프 둘 다 손님이 오면 인사를 해야하고 모든 업무가 끝나면 바리스타는 주방을, 스태프는 매장을 청소해야한다. 이를 다음과 같은 코드로 나타낼 수 있다.둘 다 손님을 맞이해야 하고 청소도 해야하지만 청소 구역이 서로 다르므로 상속을 통해 구현하도록 clean 메서드를 추상 메서드로 선언해 주었다. 바리스타와 스태프는 Employee 클래스를 상속 받아 둘 다 손님을 맞이하고 청소할 수 있다. 그리고 각자 고유 업무(주문 받기, 음료 제조 등)를 정의하여 수행한다.

## 인터페이스 
- 추상 클래스는 추상 메소드 뿐만 아니라 생성자,필드, 일반 메소드도 포함 할 수 있다. 하지만 인터페이스는 오직 **추상메서드와 상수** 만을 포함 할수 있음.
- 자바에서는 다중 상속을 금지하고있지만 인터페이스를 통해 다중상속(구현)을 만들 수 있다. 

## 인터페이스 장점
- 공통된 필드와 메서드를 통일하기 편함
- 실체 클래스 구현시 시간 절약
- 규격에 맞는 실체 클래스 구현
- 코드 재사용성 증대 

## 인터페이스 단점
- 추상 클래스를 변경할 시 상속받는 모든 하위 클래스에 영향을 미침 -> 클래스간 강한 결합도
- 상속 제약
- 복잡한 상속 구조


## 추상 클래스와 인터페이스의 차이 

![스크린샷 2024-10-15 오후 9 02 34](https://github.com/user-attachments/assets/73fbdba4-5662-4d0d-9508-07bb5f8a9bde)

- 인터페이스 : implements 라는 키워드처럼 인터페이스에 정의된 메서드를 각 클래스의 목적에 맞게 기능을 구현하는 느낌
- 추상 클래스 : extends 키워드를 사용해서 자신의 기능들을 하위 클래스로 확장 시키는 느낌

## 추상클래스를 사용하는 경우
- 상속 받을 클래스들이 공통으로 가지는 메소드와 필드가 많아 중복 멤버 통합을 할때
- 멤버에 public 이외의 접근자(protected, private) 선언이 필요한 경우
non-static, non-final 필드 선언이 필요한 경우 (각 인스턴스에서 상태 변경을 위한 메소드가 필요한 경우)
- 요구사항과 함께 구현 세부 정보의 일부 기능만 지정했을 때
- 하위 클래스가 오버라이드하여 재정의하는 기능들을 공유하기 위한 상속 개념을 사용할 때
- 추상 클래스는 이를 상속할 각 객체들의 공통점을 찾아 추상화시켜 놓은 것으로, 상속 관계를 타고 올라갔을 때 같은 부모 클래스를 상속하며 부모 클래스가 가진 기능들을 구현해야할 경우 사용한다.

## 인터페이스를 사용하는 경우
- 어플리케이션의 기능을 정의해야 하지만 그 구현 방식이나 대상에 대해 추상화 할 때
- 서로 관련성이 없는 클래스들을 묶어 주고 싶을때 (형제 관계)
- 다중 상속(구현)을 통한 추상화 설계를 해야할때
- 특정 데이터 타입의 행동을 명시하고 싶은데, 어디서 그 행동이 구현되는지는 신경쓰지 않는 경우
- 클래스와 별도로 구현 객체가 같은 동작을 한다는 것을 보장하기 위해 사용

## 인터페이스 + 추상클래스 조합
- 이처럼 각각 인터페이스와 추상클래스의 차이점을 알기위해 각 고유한 특징에 따른 개별 사용처에 대해 학습했지만, 사실 이 둘은 같이 조합되어 많이 사용되기도 한다.
- 가장 큰 특징이라고 할 수 있는 추상 클래스의 중복 멤버 통합과 인터페이스의 다중 상속 기능을 동시에 사용하기 위해서다. 따라서 이 둘을 같이 사용하는 여러가지 코드 패턴들이 나왔고, 이것이 한번쯤 들어본 디자인 패턴 의 근간이 되었다고 보면 된다.
- 추상 클래스에 인터페이스를 implements 하고, 인터페이스의 추상 메소드를 아예 구현하지 않거나, 혹은 일부만 구현하는 식으로 통합된 추상화 클래스를 만들수 있다.
```

interface Animal {
    void walk();
    void run();
    void breed();
}

// Animal 인터페이스를 일부만 구현하는 포유류 추상 클래스
abstract class Mammalia implements Animal {
    public void walk() { ... }
    public void run() { ... }
    // breed() 메서드는 자식 클래스에서 구체적으로 구현하도록 일부로 구현하지 않음 (추상 메서드로 처리)
}

// 인터페이스 + 추상 클래스를 상속하여 사용
class Lion extends Mammalia {
    @Override
    public void breed() { ... }
}

```


### 인터페이스와 추상 클래스 중 어떤 상황에서 어떤 게 더 적합할까?
-  인터페이스를 구현한 클래스가 런타임에 동적으로 바뀌어야 하는 상황에서는 추상 클래스보다 인터페이스를 사용하는 것이 더 적합함. 그 이유는 인터페이스가 다중 구현을 허용하기 때문에, 하나의 클래스가 여러 인터페이스를 구현할 수 있어 다양한 기능을 동적으로 조합할 수 있다. 예를 들어, 결제 시스템에서 사용자가 신용카드 결제에서 네이버페이 결제로 전환할 수 있는 경우, 인터페이스를 사용하면 이러한 변화를 유연하게 처리할 수 있음. 반면, 추상 클래스는 단일 상속만 지원하므로 기능을 확장하는 데 제약이 있다. 따라서 동적인 변경이 필요할 때는 인터페이스를 통해 보다 유연한 설계를 할 수 있음.
- 인터페이스는 여러 클래스가 구현할 수 있는 공통 행위나 계약을 정의할 때 적합하고, 추상 클래스는 여러 클래스 간에 공통된 속성이나 기본 동작을 포함하며 상속을 통해 구조를 공유할 때 적합합니다.
    - 인터페이스가 적합한 경우
        - 예를 들어, 다양한 종류의 결제 시스템을 구현할 때, PaymentProcessor라는 인터페이스를 정의할 수 있습니다. 이 인터페이스는 processPayment()와 같은 메서드를 포함하고, 각 결제 방식(신용카드, 페이팔, 은행 계좌 등)은 이 인터페이스를 구현해서 자체적인 결제 로직을 제공합니다. 이렇게 인터페이스를 사용하면, 특정 결제 방식에 의존하지 않고 통일된 방식으로 다양한 결제 방식을 처리할 수 있습니다.

    - 추상 클래스가 적합한 경우
        - 한편, 예를 들어 동물을 표현하는 Animal이라는 추상 클래스를 만든다고 하면, 이 클래스는 breathe()와 같은 기본 메서드와 sound()처럼 하위 클래스가 반드시 재정의해야 하는 추상 메서드를 가질 수 있습니다. Animal을 상속하는 Dog, Cat 등의 클래스는 각자 소리를 내는 방식은 다르지만, 공통적으로 숨 쉬는 방식을 공유할 수 있습니다. 추상 클래스는 이렇게 기본 동작을 재사용하면서 공통된 속성을 공유하는 데 유리합니다.

    - 이처럼 인터페이스는 클래스들 간의 공통 동작을 강제할 때 적합하고, 추상 클래스는 기본 기능을 재사용하며 상속 구조를 만들 때 더 유용합니다.


### 질문
#### 추상 클래스와 인터페이스를 조합해서 사용할 때의 장점은 무엇인가요?
- 추상 클래스와 인터페이스를 조합하면 각각의 장점을 동시에 활용할 수 있습니다. 추상 클래스는 공통된 멤버(필드와 메서드)를 통합하여 코드 중복을 줄이고 기본 구현을 제공하는 데 유리하며, 인터페이스는 다중 구현을 통해 클래스가 다양한 역할을 수행할 수 있도록 유연성을 제공합니다. 이 조합을 통해 재사용성과 확장성을 동시에 확보할 수 있으며, 설계의 유연성과 코드의 간결함을 높이는 데 기여합니다.

#### 인터페이스 대신 추상 클래스를 사용하는 것이 더 적합한 상황은 어떤 경우인가요?
- 추상 클래스는 공통된 필드와 메서드가 많아 멤버 통합이 필요하거나, 하위 클래스들이 공유해야 할 구현 세부 사항이 있을 때 더 적합합니다. 예를 들어, 동물(Animal)을 모델링할 때, 모든 동물이 공유하는 속성(이름, 나이)과 기본 동작(숨 쉬기)을 추상 클래스에 정의하고, 하위 클래스에서 특수한 동작(소리 내기)을 재정의하도록 설계할 수 있습니다. 이런 경우, 추상 클래스는 공통 로직을 재사용하며 하위 클래스들 간의 일관성을 유지할 수 있습니다.

--- 

참고링크 

https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-vs-%EC%B6%94%EC%83%81%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%B0%A8%EC%9D%B4%EC%A0%90-%EC%99%84%EB%B2%BD-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0