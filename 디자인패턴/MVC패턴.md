# MVC(model-view-controller)
- Model-View-Controller 모델-뷰-컨트롤러 
- MVC패턴은 소프트웨어 공학에서 사용되는 디자인 패턴 중 하나.
- MVC패턴은 사용자 인터페이스와 비즈니스 로직을 분리하여 각각의 로직을 독립적으로 운용하여 유지보수를 용이하게 만들 수 있는 디자인 패턴. MVC의 패턴의 핵심은 다음과 같다
    - 비즈니스 로직을 처리하는 모델과 결과 화면을 보여주는 뷰를 분리한다.
    - 어플리케이션의 흐름제어나 사용자의 처리요청은 컨트롤러에 집중된다.

## MVC 구성요소
#### M (Model)
- Model은 내부 비즈니스 로직에 해당된다. 즉, 백그라운드 로직으로써 처리되는 알고리즘, 데이터, DB와의 상호작용 등등을 담당.비즈니스 영역의 로직을 처리한다. 
#### V (View)
- View는 사용자 인터페이스(UI)를 의미한다.요청에 대한 처리결과를 View를 통해 클라이언트에게 화면을 통해 보여준다.
#### C (Controller)
- Controller는 Model과 View사이에서 중계자 역할을 수행하며, 클라이언트의 요청을 처리하고 흐름제어를 담당한다.

## 장점
- 사용자에게 보여지는 프레젠테이션 영역과 비즈니스 로직, 데이터 구조가 서로 완전히 분리되어있다 점이다. 
- MVC 패턴을 가진 시스템의 각 컴포넌트는 자신이 맡은 역할만 수행한 후 다른 컴포넌트로 결과만 넘겨주면 되기 때문에 시스템 결합도를 낮출 수 있다.
- 유지보수 시에도 특정 컴포넌트만 수정하면 되기 때문에 보다 쉽게 시스템 변경이 가능함.
- 기능별로 코드를 분리하여 하나의 파일에 코드가 모이는 것을 방지하여 코드의 가독성,확장성,재사용성이 증가

## 단점 
- 복잡한 대규모 프로그램의 경우 다수의 뷰와 모델이 컨트롤러를 통해 연결되기 때문에 컨트롤러가 불필요하게 커지는 현상이 발생한다. 복잡한 화면을 구성하는 경우에도 동일한 현상이 발생하는데 이를 'Massive-View-Controller' 라고 한다.
- 즉, 화면에 복잡한 화면과 데이터의 구성 필요한 구성이라면, Controller에 다수의 Model과 View가 복잡하게 연결되어 있는 상황이 생길 수 있다 MVC가 너무 복잡하고 비대해져서, 새 기능을 추가할때마다 크고 작은 문제점을 가지고 소드 분석이나 테스트도 어렵다. 이런 형태의 MVC를 Massive ViewController (대규모 MVC 어플리케이션) 라고 부른다. 
- 그래서 위의 문제점을 보완한 여러 다양한 패턴을 파생됨 -> MVP, MVVM, Viper, Clean Architecture, Flux, Redux, RxMVVM

 


## MVC Model 1
![image](https://github.com/user-attachments/assets/215b1155-a12f-4547-8fa7-bcc7adc5bb21)
- JPS를 이용한 단순한 모델. 웹브라우저의 요청을 JSP가 직접 처리한다. JSP는 자바빈이나 서비스 클래스를 사용해서 웹브라우저가 요청한 작업을 처리하고 그 결과를 클라이언트에 출력한다.
- 즉, View와 Controller를 모두 JSP에서 구현하는 구조를 가지고있다.
- 사용자의 요청 처리와 요청에 대한 응답처리를 모두 JSP에서 구현하는 구조
- 위의 특징때문에 MVC Model1구조는 흐름이 단순함 -> 개발이 쉽고 중소형 프로젝트에 적합하다는 장점이 있음. 하지만 프로젝트 규모가 커질 수록 유지보수가 어려워지고 View와 Controller가 하나의 JSP에 합쳐져있기때문에 디자이너와 개발자의 협업에 어려움이 생길 수도 있다.

### 단점
    - view와 로직 처리를 위한 java코드가 섞여있어 JSP 코드 자체가 복잡하다
    - JSP 코드에 Back-End와 Front-End가 혼재되어있어 분업이 어렵다
    - 프로젝트 규모가 커지면 코드가 복잡해져 유지보수가 어렵다
    - 확정성이 나쁘다.
### 장점
    - 구조가 단순하여 직관적이다.
    - 개발시간이 비교적 짧아 개발비용이 감소한다.

## MVC Model 2
![image](https://github.com/user-attachments/assets/7aa5f25d-f608-4bb3-91b0-ae31b43970a7)
- MVC Model2는 MVC Model1 다르게 View와 Controoler가 분리된 구조를 가지고있음.
- 클라이언트의 요청을 처리, 흐름제어를 하면서 필요 시 Model과 상호작용을 하는 Controller는 Servlet에서 담당하고 사용자의 인터페이스를 보여주는 View는 JSP에서 담당하고있음.
- 이렇게 Controller와 View를 분리함으로써 클라이언트의 요청 처리 부분과 응답처리 부분을 분리하여 각 로직을 독립적으로 수행할 수 있음.
- 하지만 MVC model1보다 프로그램의 흐름이 복잡 -> 개발 난이도가 높으며 설계에서 어려움을 겪을 수 있음.
- **웹브라우저의 모든 요청을 단일 진입점, 즉 하나의 서블릿에서 처리**

### 단점
- 자바언어에 친숙하지않으면 접근하기가 쉽지않다
- 작업량이 많다 (커맨드 클래스 + 뷰 JSP)

### 장점
- 로직 코드와 뷰 코드 분리 -> 유지보수성 올라감
- 컨트롤러 서블릿에서 권한 검사나 인증 같은 공통 기능 처리가 가능하다
- 확장 용이


## MVC Model1 VS MVC Model2
두 모델의 핵심적인 차이
- 클라이언트의 요청처리와 응답처리가 분리되어 있는가
    - MVC Model1은 요청처리와 응답처리가 모두 하나의 JSP에서 이루어짐.
    - MVC Model2는 요청처리는 Servlet에서 담당하고 응답처리는 JSP에서 이루어지기 때문에 두 로직이 분리되어 있음.
- 접근방식
    - MVC Model1은 View와 Controller가 하나의 JSP에 존재하기 때문에 클라이언트가 직접적으로 View에 접근할 수 있음.
    - MVC Model2에서 클라이언트는 View에 직접적으로 접근할 수 없고 반드시 Controller를 통해서 접근해야함.

- 또한 MVC패턴에 대해 말할때는 보통 MVC Model2를 의미하며, MVC Model1을 사용하여 개발하는 사례는 거의 없음.

## MVC패턴과 모델2 구조의 매핑
- JSP의 모델 2구조와 MVC패턴이 비슷한 것을 알수있는데, 실제로 모델 2구조와 MVC패턴은 완벽하게 일치 
    - 컨트롤러 = 서블릿
    - 모델 = 로직 처리 클래스,자비빈
    - 뷰 = JSP
    - 사용자 = 웹 브라우저 내지 휴대폰 같은 다양한 기기 

- MVC의 컨트롤러 : 서블릿
    - 서블릿은 웹브라어즈의 요청과 웹어플리케이션의 전체적인 흐름을 제어. 모델 2구조에서 서블릿은 MVC패턴에서 컨트롤러 역할을 함.
    - 서블릿은 모델이 내부적으로 어떻게 비즈니스 로직을 처리하는지 알 필요 없이, 웹 브라우저의 요청에 따라 알맞게 모델을 사용하여 요청 기능을 실행하고 그 결과를 뷰인 JSP에 전달하면 된다.
- MVC의 뷰 : JSP
    - JSP는 뷰 역할을 담당.
    - 뷰 JSP는 컨트롤러 서블릿처럼 일반적인 처리 순서 정해져 있지는 않다.


### 질문
#### MVC 패턴에서 컨트롤러가 비대해지는 'Massive-View-Controller' 문제를 해결하려면 어떤 방법들이 있을까요?
- 이 문제를 해결하기 위해 컨트롤러의 책임을 분산시키는 방법을 사용할 수 있습니다.
- 서비스 레이어 도입: 컨트롤러는 단순히 요청을 전달하고 응답을 반환하는 역할만  담당하고, 비즈니스 로직은 서비스 계층에서 처리하게 합니다.
- 핸들러 클래스 활용: 요청 유형별로 핸들러 클래스를 만들어 각각의 기능을 분리합니다.
기타 패턴 사용: MVP, MVVM, 또는 Clean Architecture 같은 패턴을 사용하여 컨트롤러의 역할을 축소하고 로직을 다른 컴포넌트에 분산시킬 수 있습니다.

#### MVC Model 1과 MVC Model 2 중 어느 것이 더 유지보수성이 높은가요? 왜 그런가요?
- MVC Model 2가 더 유지보수성이 높습니다.
MVC Model 2에서는 요청 처리와 응답 처리가 각각 **Servlet(Controller)**와 **JSP(View)**로 분리되어 있습니다. 이로 인해 각 컴포넌트가 독립적으로 동작하며 수정이 필요한 경우 다른 컴포넌트에 영향을 덜 미칩니다. 반면, MVC Model 1에서는 JSP에서 로직과 UI 코드가 혼재되어 있어 코드가 복잡해지고, 수정 시 전체 JSP 파일을 건드려야 하므로 유지보수가 어렵습니다.


---
참고링크 : 

https://velog.io/@ovan/MVC-Model1%EA%B3%BC-MVC-Model2

최범균의 JSP2.3 웹프로그래밍 기초부터 중급