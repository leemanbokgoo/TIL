# GitHub Actions
- gitHub 공식문서 소개글
    - GitHub Actions는 빌드, 테스트 및 배포 파이프라인을 자동화할 수 있는 CI/CD(연속 통합 및 지속적인 업데이트) 플랫폼입니다. 리포지토리에 대한 모든 끌어오기 요청을 빌드 및 테스트하거나 병합된 끌어오기 요청을 프로덕션에 배포하는 워크플로를 만들 수 있습니다.
    - GitHub Actions은(는) 단순한 DevOps 수준을 넘어 리포지토리에서 다른 이벤트가 발생할 때 워크플로를 실행할 수 있도록 합니다. 예를 들어 누군가가 리포지토리에서 새 이슈를 만들 때마다 워크플로를 실행하여 적절한 레이블을 자동으로 추가할 수 있습니다.
    - GitHub에서 워크플로를 실행할 Linux, Windows, macOS 가상 머신을 제공하거나, 사용자 고유의 데이터 센터 또는 클라우드 인프라에서 자체 호스트형 실행기를 호스트할 수 있습니다.

- 즉, GitHub Actions는 빌드, 테스트 및 배포 파이프라인을 자동화 할 수 있는 지속적 통합 및 지속적 배포(CI/CD) 플랫폼이다.
- 리포지토리에 대한 모든 풀 요청을 빌드 및 테스트하는 워크 플로를 생성하거나 Merge된 풀 요청을 프로덕션에 배포할 수 있다. 

## Gihub Actions 특징
- 컨테이너(도커) 기반으로 동작함
- 개발자는 workflow를 작성하여 다양한 이벤트를 기반으로 실행 시킬 수 있다.
- workflow는 Runners(기본 Azure, self-hosted 가능)라 불리는 인스턴스에서 리눅스,맥 OS,윈도우 환경에서 실행됨 -> 원하는 OS를 지정할 수도있고 한번에 여러 OS에서 테스트 가능
- Github 마켓 플레이스에서 여러사람이 공유한 workflow를 찾아서 사용할 수도있고 직접 만들어서 공유할 수도있음
- yaml로 작성

## Gihub Actions 장점
### GitHub와의 자연스러운 통합
- GitHub Actions는 GitHub 저장소에 기본적으로 통합되어 있어, 별도의 CI 서버 설정 없이도 Pull Request, Push, Release 등 이벤트 기반의 자동화 작업을 즉시 구성할 수 있다.
예를 들어, 특정 브랜치에 코드가 푸시되면 자동으로 테스트를 실행하고, 결과를 PR에 코멘트로 남기는 등의 워크플로우를 손쉽게 작성할 수 있다. 이로 인해 초기 설정이 간단하고, 개발자가 코드에 집중할 수 있는 환경을 제공한다.

### 직관적인 워크플로우 구성과 커뮤니티 액션
- YAML 형식의 설정 파일을 통해 워크플로우를 구성할 수 있으며, GitHub Marketplace에는 다양한 커뮤니티 기반의 사전 정의된 액션(Action) 들이 존재한다. 이들을 조합하여 복잡한 빌드, 테스트, 배포 로직도 쉽게 구현할 수 있다. 예를 들어, actions/setup-node, docker/build-push-action 등을 조합하면 복잡한 Node.js + Docker 환경도 빠르게 자동화할 수 있다.

### 클라우드 러너 제공과 유연한 확장성
- GitHub은 기본적으로 Ubuntu, Windows, macOS 환경의 클라우드 러너를 무료 제공하므로 별도의 서버 없이도 CI/CD 환경을 바로 실행할 수 있다. 또 필요에 따라 self-hosted 러너를 등록해 Jenkins처럼 고사양 서버에서 실행하거나 사내망에서 빌드를 수행할 수 있어 유연한 운영이 가능하다.

### 비용 효율성
- 퍼블릭 저장소는 GitHub Actions를 무제한 무료로 사용할 수 있으며, 프라이빗 저장소도 일정 시간 내에서는 무료로 제공된다. 따라서 별도의 인프라 운영 및 유지 비용 없이도 초기 스타트업이나 사이드 프로젝트 등에서 안정적인 자동화 환경을 구축할 수 있다.

### 빠른 시작과 쉬운 유지관리
- Jenkins는 설치, 서버 운영, 플러그인 관리 등 관리해야 할 것이 많은 반면, GitHub Actions는 GitHub 내부에서 바로 실행되므로 CI 환경 구축에 드는 초기 진입 장벽이 매우 낮다.
또한 GitHub에서 유지 관리되기 때문에 버전 업그레이드, 보안 패치 등도 사용자가 직접 챙기지 않아도 되는 운영 편의성을 제공한다.


## Gihub Actions 단점
### GitHub 플랫폼에 종속됨
- GitHub Actions는 GitHub 저장소에 통합되어 동작하기 때문에, GitHub 이외의 저장소(ex: GitLab, Bitbucket)에서는 사용할 수 없다. 또한 GitHub 정책이나 요금제가 변경되면 그 영향을 직접 받게 되며, 특정 워크플로우가 GitHub API 제한을 초과할 경우 자동화가 실패할 수도 있다.

### 복잡한 파이프라인 구성의 제약
- 간단한 워크플로우는 YAML로 쉽게 구현되지만, 다중 조건 분기, 병렬 처리, 반복 작업 등 복잡한 CI/CD 시나리오는 구성하기 어렵거나 가독성이 크게 떨어진다. 예를 들어, 조건문이 중첩된 반복 로직을 구현하려면 별도 스크립트를 호출하거나 액션을 커스터마이징해야 하는 등 유연성이 부족한 면이 있다.

### 디버깅 및 로컬 테스트 어려움
- GitHub Actions는 클라우드에서 실행되므로, 로컬에서 테스트하거나 실시간 디버깅을 하기 어렵다. 실패한 워크플로우를 수정하려면 매번 커밋-푸시-실행을 반복해야 하며, 이는 개발 속도를 저하시킬 수 있다. 특히 러너 환경이 GitHub에서 제공하는 사양이기 때문에, 환경 문제를 직접 조사하고 재현하기 까다로운 경우가 있다.

### 러너 리소스 제한
- GitHub의 기본 클라우드 러너는 CPU, RAM, 실행 시간 등에 제한이 있으며, 동시 실행 수 제한이나 사용 시간 초과로 인해 워크플로우가 대기 또는 실패하는 경우가 있다. 대규모 병렬 빌드나 고사양 연산이 필요한 경우, 성능 측면에서 자체 호스팅된 Jenkins보다 불리할 수 있다.


## GitHub Actions 구성요소
### Workflow 
- Workflow는 GitHub Actions의 기본 구성 단위이다. 일반적으로 .github/workflows/<workflow_name>.yml이라는 yml 파일에 정의된다. 워크 플로우는 하나 이상의 작업을 포함할수있으며 리포지토리에서 푸시 또는 풀 요청과 같은 이벤트에 의해 트리거된다.
```
on:
    push:
        branches:
        - main
        - develop
    pull_request:
```

### Events
- 이벤트는 워크플로를 시작하는 트리거이다. 일반적인 이벤트에는 push, pull_request 및 일정이 포함된다. 특정 요구사항에 따라 workflow를 트리거하는 사용자 지정 이벤트를 만들 수도있다.

### jobs
- 작업은 workflow내에서 실행되는 개별작업이다. 러너라는 가상머신에서 실행되며 하나이상의 단계를 포함할 수 있다. 작업은 종속성에 따라 병렬 또는 순차적으로 실행 될 수 있다. 

### Steps
- 단계는 작업 내 작업의 가장 작은 단위이다. 각 단계는 셸 명령을 실행하거나 작업을 실행 할 수 있다. 단계는 workflow 파일에 지정된 순서대로 실행되며 각 단계는 동일한 실행기 인스턴스 내에서 실행된다.

### Actions
- 작업은 작업 흐름에서 공유 및 결합할 수 있는 재사용 가능한 코드 단위이다. GitHub 커뮤니티에서 개발 및 게시하거나 자체적으로 사용할 수 있도록 만들 수 있다. 작업은 일반적으로 별도의 리포지토리에 저장되며 해당 리포지토리 이름으로 워크플로 파일에서 참조된다.

### Runners
- Runners는 작업이 실행되는 가상 머신 또는 자체 호스팅 환경이다. GitHub는 다양한 운영체제(리눅스, macOs, Window)및 하드웨어 구성을 호스팅 러너에 제공하거나 보다 전문적인 요구사항을 위해 자체 호스팅 러너를 설정할 수 있다.

### Environment Variables and Secerts
- 환경 변수는 workflow내의 작업 및 스크립트에서 엑세스 할 수 있는 데이터를 저장하는 데 사용된다. 비밀은 엑세스 토큰 또는 API키와 같은 민감한 데이터를 저장하는데 사용되는 암호화된 한경변수이다. 로그에 노출되지않으면서 동일한 리포짙토리에서 실행되는 작업을 통해서만 엑세스 할 수 있다.

### Artifacts And Caching
- 아티팩트는 빌드 추렭 또는 테스트 결과와 같이 나중에 저장하고 사용할 수 있는 workflow에서 생성된 파일이다. 캐싱은 workflow 실행 간에 데이터를 저장하고 검색하는 데 사용되므로 이전에 다운로드한 종속성 또는 빌드 출력을 재사용하여 프로세스 속도를 높일 수 있다.

### 질문
#### 1. GitHub Actions의 주요 장점과 단점은 무엇인가요?
- 장점으로는 클라우드 기반 서비스 제공입니다.GitHub는 Azure 기반의 클라우드를 제공하므로 별도의 서버 설치가 필요하지 않습니다.
- 두번쨰로는 다양한 운영체제 지원입니다 GitHub Actions는 Linux, macOS, Windows를 지원하며 동시에 여러 OS에서 테스트할 수 있습니다.
- 세번쨰로는 마켓플레이스 활용입니다. GitHub 마켓플레이스를 통해 다양한 워크플로를 공유하고 재사용할 수 있습니다.
- 단점으로는 캐싱 구현의 복잡성입니다. 캐싱이 필요한 경우 자체적으로 캐싱 로직을 작성해야 하므로 다소 번거로울 수 있습니다.그리고 장애 발생 시 해결 필요입니다. GitHub 서버가 장애를 일으키거나 리소스가 초과될 경우 개발자가 직접 문제를 해결해야 합니다.

#### 2. Workflow에서 "jobs"와 "steps"의 차이점은 무엇인가요?
- jobs는 워크플로에서 실행되는 개별 작업 단위입니다. 각 job은 독립적인 가상머신(Runner)에서 실행되며, 병렬 혹은 순차적으로 실행할 수 있습니다. 하나의 workflow는 여러 job을 포함할 수 있어 다양한 작업을 동시에 처리할 수 있습니다.
- steps는 job 내부에서 수행되는 가장 작은 작업 단위로, 셸 명령을 실행하거나 특정 작업을 수행하는 코드입니다. 모든 step은 동일한 Runner 인스턴스 내에서 순서대로 실행됩니다.


참고링크 

https://docs.github.com/ko/actions/about-github-actions/understanding-github-actions

https://fe-developers.kakaoent.com/2022/220106-github-actions/

https://tech.kakao.com/posts/516

https://somaz.tistory.com/213

https://www.daleseo.com/github-actions-basics/