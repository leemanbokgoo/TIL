# 9.1 자바 엔터프라이즈 플랫폼과 스프링 애플리케이션

## 9.1.1 클라이언트와 백엔드 시스템
- 가장 많이 사용되는 구조는 클라이언트가 웹 브라우저이고 백엔드 시스템이 DB인 구성이다. 간단히 ’DB를 사용하는 웹 애플리케이션’ 이라고 한다. 웹 클라이언트와 DB가 사용되지 않는 시스템은 거의 없으니, 이를 스프링이 사용되는 애플리케이션의 기본구조라고 생각할 수도 있다.
- 그렇다고 꼭 클라이언트는 웹 브라우저여야 하며 백엔드 시스템은 DB를 이용해야 하는 것만은 아니다. HTML을 사용하는 표준 웹 클라이언트 외에도 Flex나 X 인터넷 제품처럼 독립적으로 강력한 기능을 가진 RIA 클라이언트가 사용되기도한다. 또는 HTTP 프로토콜을 이용해 통신하는 다른 엔터프라이즈 시스템일 때도 있다. 자바 서버가 받아들일수 있는 방식으로 요청을 보내기만 한다면 어떤 종류의 클라이언트이든 상관없다.

![Image](https://github.com/user-attachments/assets/d02bbc74-1ade-4204-bafb-7efb5602f0d5)

## 9.1.2 애플리케이션 서버
- JavaEE 표준 을 따르는 애플리케이션 서버는 크게 두가지로 구분 할 수 있다. 하나는 JavaEE의 대부분의 표준 기술을 지원하고 다양한 형태의 모듈로 배포가 가능한 완전한 웹 애플리케이션 서버(WAS)이고 다른 하나는 웹 모듈의 배포만 가능한 경량급 WAS 또는 서블릿/JSP 컨테이너다.

### 경량급 WAS/서블릿 컨테이너
- 스프링은 기본적으로 톰캣이나 제티 같은 가벼운 서블릿 컨테이너만 있어도 충분하다. EJB나 리소스 커넥터, WAS가 제공하는 분산 서비스 등이 굳이 필요하지 않다면 서블릿 컨테이너로도 엔터프라이즈 애플리케이션에 필요한 핵심기능을 모두 이용할 수 있다. 

### WAS
- 물론 고가의 WAS를 사용하면 그만큼 장점이 있다. 성능면에서 대단히 낫지 않더라도 미션 크리티컬한 시스템에서 요구하는 고도의 안정성이나 고성능 시스템에서 안정적인 리소스 관리등 필요가 있다면 상용/오픈소스 WAS를 이용할 수 있다.
- 또 상대적으로 관리 기능이나 모니터링이 기능이 뛰어나서 여러 대의 서버를 동시에 운영할 때 유리한 점이 많다.

- 스프링의 개발팀은 필요할 때는 비용을 들이더라도 적합한 조건을 가진 WAS를 사용할 것을 권장한다.

## 9.1.3 스프링 애플리케이션의 배포단위
### 독립 웹 모듈
- 톰캣 같은 서블릿 컨테이너를 쓴다면 독립 웹 모듈이 유일한 방법이다. WAS로 배포한다고 하더라도 독립 웹 모듈을 사용하는 경우가 대부분일 것이다. EJB 모듈을 함께 사용한다거나 여러 개의 웹 모듈을 묶어서 하나의 웹 애플리케이션 모듈로 만들지 않는 한 독립 웹 모듈이 가장 단순하고 편리한 배포 단위다.

### 엔터프라이즈 애플리케이션
- 경우에 따라선 확장자가 ear인 엔터프라이즈 애플리케이션으로 패키징해서 배포할 수도 있다. 하나 이상의 웹 모듈과 별도로 구분된 공유 가능한 스프링 컨텍스트를 엔터프라이즈 애플리 케이션으로 묶어주는 방법이다.

### 백그라운드 서비스 모듈
- 이 두가지 방법 외에도 J2EE 1.4에서 등장한 rar 패키징 방법도 있다. rar는 리소스 커넥터를 만들어 배포할 때 사용하는 방식인데, 만약 스프링으로 만든 애플리케이션이 UI를 따로 가질 필요는 없고 서버 내에서 백그라운드 서비스처럼 동작할 필요가 있다면 rar 모듈로 만들어서 배포할 수 있다.

## 9.2 개발도구와 환경
### 9.2.4 라이브러리 관리와 빌드 툴
- 스프링 자체만 해도 20개 가까이 세분화된 jar 모듈이 존재한다. 스프링이 직접 참조하는 필요 라이브러리는 100개가 넘는다.
- 필요한 기능과 사용하기로 결정한 기술에 따라서 적절한 선택이 필요하다.
- 라이브러리마다 여러 개의 버전이 있다는 것도 문제다. 각 라이브러리마다 정확히 어떤 버전을 사용해야 할지도 알아야한다. 필요한 라이브러리의 조합을 만들다 보면 복잡한 의존관계 속에서 같은 라이브러리의 다른 버전이 동시에 필요해서 문제가 발생하기도 한다.
- 이 문제를 풀 수 있는 가장 간단한 방법은 재패키징(Repackaging)이다. 한쪽 버전의 클래스를 다른 패키지로 옮겨서 서로 구별되는 클래스로 만들어주는 방법이다.
- 스프링이 사용하는 라이브러리의 의존관계를 따져보면 이렇게 버전이 다르면서 같은 라이브러리를 사용하는 경우가 여럿 발견된다.

![Image](https://github.com/user-attachments/assets/217fd962-a961-4275-a453-350927a94b12)

---


https://velog.io/@kkuldangi3/Spring-9.-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-Vol.1-%E5%AE%8C