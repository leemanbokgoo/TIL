# JPA (Java Persistence API) 
![image](https://github.com/user-attachments/assets/284215fc-0631-4ee7-a085-d189c6a3d8b2)

- 자바 ORM 기술에 대한 API표준 명세로 자바 애플리케이션에서 관계형 데이터 베이스를 사용하는 방식을 단순화.
- JPA 사용함으로써 개발자는 객체 중심의 개발을 할 수 있게 되며 데이터 베이스와의 상호작용을 보다 직관적으로 처리할 수 있음.
- JPA는 엔티티(엔티티)라는 자바 객체를 통해 데이터 베이스 테이블을 매핑하기때문입니다. 
- 이를 통해 SQL 직접 작성 없이도 데이터 베이스를 조작할수 있게 되며 CURD작업을 간단한 API 호출로 수행 할 수 있음.
- JPA는 개발자가 객체 지향 프로그래밍에 더 집중 할 수 있게 해주며 데이터 베이스 작업을 보다 효율적으로 할 수 있게 도와준다.

![image](https://github.com/user-attachments/assets/5b1c3343-67b9-4759-b4a6-597d540ed60b)
- JPA 스펙을 구현한 기술은 Hibernate외에도 EcliseLink, DataNucleus 등이 있지만, 현재 사실상 표준(de facto standard)으로 널리 사용되는 것은 Hibernate.


# JPA의 주요 기능과 장점
![image](https://github.com/user-attachments/assets/2a973d9e-540f-44a1-b5d2-adfffe276479)
![image](https://github.com/user-attachments/assets/ce4967cc-c975-4a08-8e10-efc17839a5dd)


- 엔티티 매니저(Entity Manager)를 통한 데이터 베이스 작업의 간소화.
- 엔티티 매니저를 사용하면 엔티티 생명주기를 관리할 수 있으며, 트랙잭션 관리, 쿼리 실행 등의 작업 쉽게 할 수 있음.
    - 내부적으로 복잡한 JDBC 코드를 추상화 하여 제공하기때문. 이를 통해 개발자 보일러 플레이트 코드를 작성할 필요 없이 비즈니스 로직에 더 집중 할 수 있음.
- JPA는 타입 안정성을 제공하는 JPQL(Java Persistence Query Language)을 통해 쿼리를 작성 할 수 있게 해줌.
- SQL을 객체 지향적으로 작성할 수 있게 해주며 컴파일 시점에 오류를 발견 할 수 있게 해줌.
- 애플리케이션과 데이터 베이스 간의 성능 최적화를 위한 다양한 전략을 제공.
- 예를 들어 지연 로딩, 즉시 로딩 등의 로딩전략을 통해 필요한 데이터만을 불러올 수 있었음.

# 단점 
- 높은 학습 곡성
- 복잡한 SQL 생성이 어려움
- 성능에 대한 고려 필요 : 자동화된 SQl문으로 인해서 데이터 조회 성능이 떨어질 가능성이 있습니다. 일반적인 간단한 CURD에는 큰 문제가 없으나 데이터가 많아지고, 데이블 간 Join이 많아지는 경우 SQL문을 어떻게 튜닝하는 가로 인한 성능이 크게 차이가 날 여지가 있음.

# JPA 특징
#### 1. 영속성 컨텍스트 (Persistence Context)
- 영속성 컨텍스트는 엔티치 객체의 상태를 관리하는 역할을 하며, 특정 트랜잭션 내에서 객체의 상태를 자동으로 반영해줌.
- 동일한 영속성 컨텍스트 내에서 같은 엔티티는 동일성을 보장한다.

#### 2. 캐시 지원
- 1차 캐시는 영속성 컨텍스트가 관리하는 캐시로 같은 트랜잭션 내에서 조회성능을 높여줌.
- 2차 캐시를 설정하면 영속성 켄텍스트 외부에서도 캐시를 활용할 수 있어 반복되는 데이터 조회 시 효율성을 높입니다.

#### 3. 트랜잭션 관리
- JPA는 트랜잭션 통해 데이터의 일관성을 보장함. 트랜잭션이 완료될떄까지 데이터 베이스에 반영되지않으며 트랜잭션이 실패하는 변경사항을 롤백함.

#### 4. ORM(객체-관계 매핑)
- JPA는 객체와 관계형 데이터베이스의 테이블을 매핑하여 객체 지향 프로그래밍에서 관계형 데이터베이스를 더 쉽게 사용할 수 있도록 해줌.
- @Entity, @Table, @Id와 같은 애너테이션을 사용해 객체와 테이블간의 매핑을 정의.

#### 5. 엔티티 중심의 개발
- 엔티티 객체를 통해 데이터베이스의 레코드를 다루며, 객체 중심으로 데이터를 조회, 저장,삭제 할 수 있음.
- JPA는 SQL 쿼리를 작성하지않고도 데이터를 조작할 수 있는 방법을 제공. 

### 질문
#### 1.JPA의 영속성 컨텍스트(Persistence Context)가 무엇이며, 왜 중요한가요?
- 이 질문은 JPA의 핵심 기능인 영속성 컨텍스트를 이해하는지 평가하는 중요한 질문입니다. 영속성 컨텍스트는 JPA의 데이터 관리와 동일성 보장을 담당하는 중요한 부분으로, 특정 트랜잭션 내에서 엔티티 객체의 상태를 관리합니다. 이로 인해, 같은 트랜잭션 내에서 조회한 동일 엔티티는 하나의 객체로 유지되어 메모리 사용과 일관성에 장점이 있습니다.
#### JPA와 Hibernate의 차이점은 무엇인가요?
- JPA는 자바 애플리케이션에서 데이터베이스를 다루기 위한 표준 명세로, 특정 기술에 종속되지 않습니다. Hibernate는 JPA 표준을 구현한 ORM 프레임워크 중 하나로, 사실상의 표준(de facto standard)으로 널리 사용됩니다. JPA는 구현체가 없지만, Hibernate는 다양한 추가 기능을 포함하여 실제로 사용 가능한 구현체입니다.

#### JPA의 장단점에 대해 설명해보세요

- JPA는 ORM중에 하나로 **관계형 데이터 베이스와 객체 지향의 패러다임 불일치를 해결**하기위해 나온 기술이다. JPA는 쿼리를 직접 짜지않아도 되서 개발 생산성이 올라가며 영속성이라는 것으로 객체의 생명주기를 관리한다.
- JPA(Java Persistence API)는 객체 지향적인 데이터베이스 접근을 제공하여, **엔티티와 데이터베이스 테이블 간의 매핑을 자동으로 처리하고, 객체를 조작하는 방식으로 데이터를 다룰 수 있게 해줍**니다. 이를 통해 개발자는 SQL을 직접 작성하지 않고도 데이터베이스와 상호작용할 수 있으며, 생산성 향상과 코드의 간결화를 이끌어냅니다. 또한 JPA는 표준화된 API로, 다양한 벤더의 구현체를 사용할 수 있어 이식성이 높고, ORM(Object-Relational Mapping)을 통해 객체와 관계형 데이터베이스 간의 간극을 줄여줍니다.
- JPA의 장점으로는 객체 지향적인 접근 방식, J**PQL(Java Persistence Query Language)을 통한 데이터베이스 독립적인 쿼리 작성, 트랜잭션 관리, 캐싱 등을 제공하여 성능을 최적화**할 수 있다는 점이 있습니다. 특히, 대규모 동시성 처리와 복잡한 데이터 모델을 관리하는 데 유리합니다.
- 하지만 JPA는 몇 가지 단점도 존재합니다. **첫째, 지연 로딩(Lazy Loading)으로 인한 N+1 문제**와 같은 성능 문제를 유발할 수 있으며, 이를 해결하기 위해서는 `fetch join`이나 `@EntityGraph` 등을 사용해야 합니다. **둘째, 복잡한 SQL 쿼리를 작성할 때 불편함이 있을 수 있고, 대규모 데이터 처리 시 성능 최적화가 어렵습니다.** 셋째, JPA의 ORM 모델은 학습 곡선이 있으며**, 복잡한 트랜잭션 관리나 엔티티 변경 감지 시 성능 오버헤드가 발생**할 수 있습니다.
- 따라서 JPA는 적절한 사용과 설계를 통해 장점을 극대화하고, 단점을 최소화할 수 있으며, 대규모 애플리케이션의 데이터 관리에 매우 유용한 도구입니다.

참고링크 

https://www.elancer.co.kr/blog/detail/231