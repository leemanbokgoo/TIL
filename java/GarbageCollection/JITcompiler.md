# JIT 컴파일러
![image](https://github.com/user-attachments/assets/4b4b2b52-4992-4498-a7cf-ac91522c0489)

### 인터프리터

터프리터는 코드를 한줄 한줄 번역후 실행한다.주로 python, PHP, javaScript에서 사용된다. 인터프리터는 고레벨 언어를 중간코드로 변환하고 이를 각 행마다 실행한다.인터프리터는 프로그램 전체를 미리 기계어로 변환하지 않고, 실행할 때마다 소스 코드를 바로 해석하여 동작한다고 볼수있다.

 

**장점**

- 시스템관의 이식성이 뛰어남.
- 전체코드를 다시 컴파일 할 필요가 없음 -> 수정이 쉽다.
- 인터프리터는 컴파일 방식에 비해 별도의 메모리 할당이나 관리에 대해 개발자가 신경쓸 필요가 적다. 

**단점**

- 코드가 실행될때마다 해석되므로 컴파일된 언어에 비해 실행속도가 느리다
- 중간 코드로 해석 되기때문에 프로그램 코드가 유출 될수 있다.



### 컴파일러


컴파일러는 고급 프로그래밍 언어로 작성된 소스 코드를 기계어(바이너리 코드) 또는 다른 중간 코드로 번역하여 컴퓨터가 이해하고 실행할 수 있도록 변환하는 프로그램이다. 컴파일러는 전체 프로그램을 한번에 변환하고, 이로 인해 실행파일을 생성하는 것이 특징이다.

 

**장점**

- 컴파일한 파일을 빠르게 실행할 수 있기때문에 효율적이다.
- 컴파일 에러를 초기에 발견할 수 있다. 
- 컴파일러는 코드를 최적화하여 더 빠르게 실행될 수 있도록 돕는다.
 

**단점**

- 컴파일 시간이 걸린다.
- 한번 수정할때마다 다시 컴파일 해야하는 불편함이 있다. 
- 특정 시스템에서 만들어진 실행 파일이 다른 시스템에서 실행되지않는 경우가 있다.

**인터프리터와 컴파일러의 차이 **
-  컴파일러는 전체 소스 코드를 보고 명령어를 수집하고 재구성하지만 인커프리터는 소스의 각 행을 연속적으로 분석하며 실행.
- 인터프리터는 고레벨 언어를 기계어로 바로 번역하지않고 중간 형태로 변환시킨후 실행한다. 하지만 컴파일러는 고레벨 언어를 기계어로 변환.
 

## JIT 컴파일러
JIT 컴파일러는 정적 컴파일과 인터프리터 방식을 합친 동적 컴파일 방식입니다. 실행 시점에서 필요한 바이트 코드를 선택적으로 기계어로 변환하고, 변환된 코드를 캐싱하여 같은 함수가 반복해서 호출될 때마다 재컴파일하는 비용을 줄입니다. 자바 컴파일러는 자바 소스 코드를 바이트 코드로 변환한 후, 실행 시점에서 JIT 컴파일러가 바이트 코드를 기계어로 변환하고 최적화를 수행합니다. 필요한 부분만 변환되며, 이미 변환된 기계어 코드는 캐싱되어 다시 컴파일할 필요가 없습니다. 이런 부분이 기존 방식들 보다 낫다고 볼 수 있습니다.

하지만 모든 코드들을 캐시하는 것은 아닙니다. JVM은 내부에서 자주 수행되는 코드들을 선별하여 캐시 공간에 넣어둡니다.

실제로 JVM의 JIT컴파일러 내부에는 2가지 컴파일러인 C1컴파일러와 C2 컴파일러가 있습니다.

![image](https://github.com/user-attachments/assets/f7394bce-8a44-436f-ac40-6b55774fed83)


# C2컴파일러


C2컴파일러는 컴파일시간이 c1컴파일 시간보다 상대적으로 길지만 더 높은 수준의 최적화를 지원한다. warm-up 된 후에는 빠르다. 최적화와 컴파일이 끝나면 마찬가지로 코드 캐시에 기계어를 저장한다.  장기 실행되는 서버 애플리케이션 등에 적합하다.
 

JIT 컴파일러에 대해 좀더 깊게 보고싶으신 분들께 추천하는 블로그입니다.

https://mangkyu.tistory.com/343



---

참고링크 
 
https://velog.io/@kimunche/C1C2-Compiler-%EC%99%80-JIT-Compiler
 https://velog.io/@jeongbeom4693/%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC-%EC%9D%B8%ED%84%B0%ED%94%84%EB%A6%AC%ED%84%B0-JIT-%EC%BB%B4%ED%8C%8C%EC%9D%BC
 https://hyeinisfree.tistory.com/26