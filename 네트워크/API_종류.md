# API란?
- 서비스와 서비스끼리의 통신을 위해, 약속 되어 있는 다양한 종류의 인터페이스를 API라고 부른다.
- 인터페이스란 사람과 장치 간의 소통을 위한 창구를 인터페이스라고 한다. 사용자와 컴퓨터 장치간의 마우스, 키보드같은 인터페이스 장치가 있고 사용자와 컴퓨터 하드웨어 자원을 연결하는 OS의 그래픽 유저 인터페이스(GUI) 가 있고 WEB, APP 화면도 마찬가지로 사용자와 서비스를 이어주는 다양한 인터페이스중 하나이다. 그런데 사람과 장치뿐 아니라 소프트웨어와 소프트웨어 사이에도 소통을 위한 인터페이스가 있다. 서비스와 서비스끼리의 요청/명령을 받기위한 인터페이스를 바로 API라고 부른다. 

## SOAP API
- SOAP(Simple Object Access Protocol)는 다양한 장점과 약점을 가지고 있다.
- HTTP Method중 POST만을 이용하여 데이터의 CRUD를 처리하는 특징이 있다.
- 다양한 오류에 대한 처리가 가능하고, stateful / stateless 모두 지원한다

### SOAP API 주요 특징
- 프로토콜에 독립적 : SOAP은 HTTP, SMTP, FTP을 포함한 인터넷을 통한 메세지 전송을 지원하는 모든 프로토콜에서 동작한다.
- 플랫폼에 독립적 : SOAP은 XML을 지원하고 HTTP 메세지 송수신을 할 수 있는 모든 프로그래밍 언어나 플랫폼에서 동작하도록 설계되었다.
- 메세징 : SOAP 은 메세징 프로토콜이다. 다른 시스템 간에 구조화된 데이터를 교환하기 위한 규칙을 정의한다.
- 보안 : SOAP은 암호화, 디지털 서명, 인증 등의 보안 표준을 지원한다.
- 확장성 : SOAP 은 특별한 요구사항을 지원하기 위해서 사용자 지정 확장자을 만드는 것을 허용한다.

### SOAP API 장점
- 웹 기반 서비스를 생성하는 HTTP프로토콜을 사용하므로 언어와 플랫폼에 독립적이다. 
- SOAP은 사용을 위한 복잡한 표준이 정해져 있어, 러닝커브가 큰 편이고 지식의 전문성을 가진다.
- WS-Security, SSL 등의 기능을 지원하여 메세지 수준에서 암호화가 가능하고 개인 정보 보호 및 무결성을 제공한다,
- SOAP은 엄격한 보안성을 가지고있기에 , 금융, 통신, 마케팅, 결제 시스템과 같은 기업용 서비스에 사용되는 장점이있다.

### SOAP API 단점
- XML 형식만 사용할 수 있다.
- 캐시기능을 사용할 수 없다.
- 많은 리소스와 대역폭을 필요로 하므로 오버헤드가 큰 편이다.
- SOAP API 서버 구축을 위해서는 매우 제한된 규칙에 대해 전문적이고 깊은 이해가 필요하다.

### SOAP을 적용하는 경우
- 민감한 데이터를 전송해야할 때 : SOAP은 보안 표준을 제공하기 때문에 민감한 데이터를 교환하는데 적합하다.
- 복잡한 데이터 구조를 지원해야 할 때 : SOAP은 복잡한 데이터 구조를 지원한다.
- 신뢰성 있고 표준화된 프로토콜을 사용해야할 때 : 잘 정립되어있고 표준화되어있는 프로그램이기 때문에 신뢰성있는 통신을 지원한다.

### 적용 산업
- SOAP API는 웹 서비스 초반에 널리 쓰였던 프로토콜이며, 현재도 일부 산업군에서 쓰이고 있다. (비록 REST나 GraphQL이 요즘 대세 일지라도..)
    - 헬스케어 산업 : SOAP은 헬스케어 어플리케이션을 위해 사용된다. 건강 데이터 (Electronical Health Records, EHR), (Health Information Exchanges, HIE) -> 민감한 데이터이기 때문에 보안 표준을 제공하는 SOAP 프로토콜을 사용한다.
    - 금융 : 금융데이터는 안전하고 신뢰할 수 있는 방식으로 전송되어야하기 때문에 결제 게이트웨이나 거래 플랫폼과 같은 금융 어플리케이션에서 사용된다.
    - 기업용 어플리케이션 : 데이터 교환을 위해 표준화, 안정화되어있기 때문에 CRM이나 ERP시스템과 같은 기업용 어플리케이션에서 사용된다.
    - 레거시 시스템 : 오래된 시스템과 어플리케이션을 여전히 SOAP API를 사용한다. 따라서 이를 마이그레이션 하는데 비용과 시간이 많이 소요될 수 있다.

## REST API
- SOAP은 진입장벽도 높고 사용하기 어려우며, 많은 리소스를 사용하기에 무거운 통신이 될 수 밖에 없지만 
반면 REST (REpresentational State Transfer)란 형식의 API는 상대적으로 적은 리소스를 사용하고, 개방적이며 다양한 포맷의 데이터를 주고 받을 수 있다. REST API는 웹에서 가장 널리 사용되는 API 스타일 중에 하나. URL을 사용해 자원을 표현하고 HTTP 메서드를 통해 자원을 조작한다.
- REST는 리소스를 얻어올때 URI, query의 정보를 데이터를 가져오기에 쉽게 해석이 가능하며, 캐시사용이 가능하다.
- REST API는 HTTP Method중 GET, POST, PUT ,PATCH, DELETE 를 사용하여 통신한다.
- Client의 요청에 정보를 넘기는 형식이므로 보안에 취약하여, 기상정보, 약국정보와 같은 공공데이터,보안성에 문제되지 않는 비즈니스 분야의 데이터 등을 REST API형식으로 제공/사용 합니다.
- RESTful API는 간단하고, 확장성있고, 유연하도록 설계되었으며 웹, 모바일, IoT, 마이크로서비스 아키텍쳐 서비스 등 다양한 곳에서 사용된다.

### REST API 주요 특징
- 상태가 없음(stateless) : REST API는 상태를 저장하지 않는다. 따라서 각 Request 메세지는 처리에 필요한 모든 정보를 포함한다. 이렇게 하면 서버에서 세션 데이터를 저장하고 관리할 필요가 없기 때문에 API 확장이 더 쉬워지고 성능이 향상된다.
- 리소스 기반 : 각 리소스는 고유한 URI (Unique Resource Identifier)로 식별되며, GET/POST/PUT/DELETE 와 같은 메소드로 리소스에 엑세스를 할 수 있다.
- 균일한 인터페이스 : 클라이언트가 표준화된 메서드와 응답 형식을 사용하여 리소스와 상호작용 할 수 있는 균일한 인터페이스를 가진다. 따라서 서버 개발자는 API를 더욱 쉽게 구축하고 유지관리 할 수 있고, Client는 쉽게 사용할 수 있다.
- 캐싱 가능 : REST API는 캐싱을 통해 성능을 개선하고 네트워크 트래픽을 줄일 수 있다.
- 계층화된(Layered) 시스템 : 계층화되도록 설계되어있어 전체 시스템에 영향을 주지 않고 클라이언트와 서버 사이의 프록시/게이트웨이와 같은 중개자를 추가할 수 있다.

### REST API 장점
- 배우고 사용하기 쉽다.
- 확장성 : stateless 하기 때문에 높은 확장성과 효율성을 가진다
- 유연성 : 유연하기 때문에 넓은 범위의 어플리케이션과 시스템에 적용될 수 있다.
- 광범위한 지원 : REST API는 개발 도구와 프레임워크에서 광범위하게 지원하므로 기존의 시스템에 쉽게 통합할 수 있다.

### REST API 단점
- 표준 부족 : 불일치 및 상호운용성 문제가 발생할 수 있다.
- 제한된 기능 : 간단한 요청 및 응답을 처리하도록 설계되어있기 때문에 복잡한 경우 적합하지 않을 수 있다.
- 보안 문제 : 제대로 구현되지 않는 경우 XSS나 CSRF 공격에 취약할 수 있다.

### REST API 적용하는 경우
- 웹, 모바일 애플리케이션, 마이크로서비스 아키텍쳐, IoT 시스템 구축에 매우 적합하다.
- 확장성, 유연성이 중요한 경우 & 기존 시스템 및 기술과 통합해야하는 경우에 특히 유용하다.
- 단순, 확장가능, 유연하기 때문에 웹서비스와 API 구축에 널리 사용된다

## GraphQL API
- 그래프QL은 API를 위한 쿼리언어로 2012년 페이스북에서 개발하여 REST API를 대체할 수 있다. 기존의 REST API의 경우, 정의된 요청에 대한 응답만 가능했다면 GQL은 필요한 컬럼에 대해서만 선택적으로 요청할수 있어 불필요한 데이터를 받지 않고, 필요한 데이터만 받을 수 있다.
- GraphQL은 REST와는 다르게 Resource에 대한 엔드포인트가 따로 존재하지 않고, 하나의 엔드포인트만 존재한다. 또한 해당 엔드포인트로 요청 시, 원하는 리소스와 해당 리소스에서 원하는 필드를 특정하는 GraphQL query를 함께 보낸다.
- REST API의 대안책으로 인기 얻었다. GraphQL은 Facebook의 모바일 어플리케이션의 데이터 패치를 단순화하기 위해 만들어졌다. (성능 이슈를 유발하는 복잡한 데이터 요청을 해결하기 위해 GraphQL 개발)


```
/graphql?query={ book(id: "1") { title, author { firstName } } }
{
  "title": "Black Hole Blues",
  "author": {
    "firstName": "Janna",
  }
}
```
- 위의 gql을 통해, JSON형식으로 id = 1 인 book의 title과 author의 firstName 만 가져올 수 있다. GraphQL은 여러 Depth의 조인이 필요한 복잡한 요청 데이터도 할 수 있어서, 효율적으로 데이터를 주고 받을 수 있다.

## GraphQL API 주요 특징
- 강력한 DataType : 각 필드에 특정 데이터 Type이 있기 때문에 Client와 Server는 데이터를 더 쉽게 검증하고 처리할 수 있다.
- 쿼리 언어 : Client가 필요한 데이터를 정확히 지정할 수 있는 자체 쿼리 언어가 존재한다. 오버패칭을 줄여 성능이 향상된다.
- 단일 EndPoint : GraphQL은 단일 엔드포인트가 있기 때문에, 하나의 요청에서 필요한 모든 데이터를 가져올 수 있다.
- 선언적 : Client는 원하는 것을 얻는 방법이 아니라 원하는 것을 지정하기 때문에 보다 효율적이고 유연하게 데이터를 가져올 수 있다.
- 스키마 기반 : 스키마가 데이터 구조와 사용 가능한 쿼리와 변형을 정의한다. 따라서 개발자는 API를 더 쉽게 이해하고 작업할 수 있다.

### GraphQL API 장점
- 효율적인 데이터 가져오기 : Client가 필요한 데이터만 가져올 수 있기 때문에 과도하게 데이터를 가져오지 않아 성능을 향상시킬 수 있다.
- 강력한 Type : GraphQL은 강력한 Type을 가지고 있기 때문에 데이터를 검증하고 처리하기 쉽다.
- 단일 엔드포인트 : 단일 엔드포일트로 API의 복잡성을 줄여 작업을 쉽게 만든다.
- 스키마 기반 : 스키마 기반이기 때문에 API를 이해하기 쉽다.

### GraphQL API 단점
- 복잡하다. : REST API에 비해 설정과 작업이 더 복잡하다.
- GraphQL은 API의 유연성 때문에 캐싱이 어렵다
- 학습 곡선 (Learning Curve) : 자체 쿼리언어와 데이터 패칭 방식이 있기 때문에 학습 곡선이 존재한다. (특정 기술을 배우고 실제 업무에 적용하기 위해 드는 학습 비용이 필요하다.)

### GraphQL API 적용하는 경우
- 효율적이고 유연한 요구 사항 : 모바일이나 웹 어플리케이션과 같이 효율적이고 유연한 데이터 패칭을 요구하는 경우에 적합하다.
- 복잡한 데이터 요구 : 복잡한 데이터를 요구하고 오버패칭으로 인한 성능 이슈가 우려되는 경우에 적합하다.

## gRPC API
- gRPC은 Google에서 개발한 Remote Procedure Calls로 오픈소스 원격 프로시저 호출 시스템이다.
- 지금까지의 API는 데이터를 요청/응답 받아 통신했다면 gRPC는 클라이언트의 요청으로 서버의 정의되어있는 함수를 수행시켜 단순히 데이터만 주고받는게 아닌 클라이언트가 서버에게 원하는 일들을 훨씬 폭넓고 다양하게 시킬수가 있다. 
![Image](https://github.com/user-attachments/assets/dd3febe3-74a9-443c-8868-507fd0db759d)
- RPC는 Stub을 이용해 IDL 호출규약을 정의하고, 클라이언트에서 구현된 원시코드 형태의 함수가 Server에 동시구현되며, 만들어진 Stub코드는 Cli/Svr에서 동시 컴파일 되어 클라이언트의 요청으로 Server내에 원격 프로시저가 호출이 되고, 결과값을 반환 받는다.
- 클라이언트는 서버에서만 가능했던 업무를 자신의 Local처럼 활용하며 다양한 기능을 구현하고 실행시킬수 있게 되는것입니다.

### gRPC 장점
- 성능: HTTP/2 및 프로토콜 버퍼를 사용하면 gRPC가 짧은 대기 시간과 높은 처리량을 달성할 수 있음
- 강력한 타이핑: SOAP 및 GraphQL과 마찬가지로 gRPC는 강력한 형식입니다. 결과적으로 컴파일 타임에 유형이 검증되므로 버그가 줄어듦
- 다중 언어 지원: gRPC는 Go, Java, C# 및 Node.js를 포함한 다양한 프로그래밍 언어를 최고 수준으로 지원
- 스트리밍: gRPC는 즉시 스트리밍 요청 및 응답을 처리하여 장기 연결 및 실시간 업데이트와 같은 복잡한 사용 사례에 적용 가능
- 배터리 포함: gRPC는 부하 분산, 재시도 및 시간 초과와 같은 중요한 기능을 직접 지원

### gRPC 단점
- 브라우저 지원: 브라우저의 기본 gRPC 지원은 여전히 ​​제한되어 있으므로 웹 애플리케이션의 클라이언트-서버 직접 통신에는 적합하지 않음
- 학습 곡선: 개발자는 초기 생산성을 저하시킬 수 있는 프로토콜 버퍼, 사용자 지정 서비스 정의 및 기타 gRPC 기능을 사용하는 방법을 배워야 함
- 디버깅 복잡성: 프로토콜 버퍼는 사람이 읽을 수 없으므로 JSON API보다 gRPC API를 디버깅하고 테스트하기가 더 어려움

### 질문
#### REST API와 GraphQL의 주요 차이점은 무엇이며, 각각을 사용하는 상황은 어떤 경우인가요?
- REST API는 각 리소스에 대해 고유한 엔드포인트를 사용하며, 클라이언트는 서버에서 정의된 데이터 구조를 그대로 받아옵니다. 반면, GraphQL은 단일 엔드포인트를 통해 클라이언트가 필요한 데이터만 선택적으로 요청할 수 있습니다. REST는 단순한 CRUD 작업에 적합하며, GraphQL은 복잡한 데이터 구조나 다양한 클라이언트 요구사항을 처리할 때 유리합니다.

#### gRPC와 REST API의 차이점은 무엇이며, gRPC를 사용하는 것이 적합한 상황은 어떤 경우인가요?
- gRPC는 Google에서 개발한 고성능 원격 프로시저 호출 시스템으로, HTTP/2와 Protocol Buffers를 사용하여 빠르고 효율적인 통신을 제공합니다. REST API는 HTTP/1.1을 기반으로 하며, JSON 형식을 사용합니다. gRPC는 실시간 데이터 스트리밍이나 마이크로서비스 간의 통신 등 고성능이 요구되는 상황에서 적합합니다.

#### 각각 API 종류에 대해 설명해보세요.
- SOAP(Simple Object Access Protocol)은 XML 기반의 메시지 프로토콜로, 보안성과 신뢰성이 중요한 시스템에서 사용됩니다. 예를 들어, 금융 기관의 결제 시스템이나 헬스케어 분야의 전자 건강 기록 시스템에서 SOAP API를 사용하여 민감한 데이터를 안전하게 교환합니다.
- REST(Representational State Transfer) API는 웹에서 가장 널리 사용되는 아키텍처 스타일로, 간단하고 확장성이 뛰어납니다. 예를 들어, 소셜 미디어 플랫폼인 Twitter와 Facebook은 REST API를 통해 다른 애플리케이션과 데이터를 공유합니다.
- GraphQL은 Facebook에서 개발한 쿼리 언어로, 클라이언트가 필요한 데이터만 선택적으로 요청할 수 있습니다. 예를 들어, Airbnb는 GraphQL을 사용하여 모바일 애플리케이션에서 필요한 데이터만 효율적으로 가져와 사용자 경험을 향상시켰습니다.
- gRPC는 Google에서 개발한 고성능 원격 프로시저 호출 시스템으로, 다양한 언어를 지원하며 실시간 통신에 적합합니다. 예를 들어, 고성능 데스크톱 애플리케이션에서 하드웨어로 데이터를 스트리밍하는 데 gRPC를 사용하여 낮은 지연 시간과 높은 처리량을 달성합니다.
- 각 API는 특정 상황과 요구사항에 따라 적합성이 다르므로, 시스템의 특성과 목적에 맞게 선택하는 것이 중요합니다.
---

참고 링크 

https://bangu4.tistory.com/167

https://devum.tistory.com/68

https://halligalli0.tistory.com/43